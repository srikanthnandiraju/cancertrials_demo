<style type="text/css" media="screen">
    @import url("https://fonts.googleapis.com/css?family=Oswald|Roboto:400,700");
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: "Oswald", sans-serif;
        font-size: 10px;
    }
    
    h1 {
        font-size: 2rem;
        margin-bottom: 0.5em;
    }
    
    .timeline-container {
        /* max-width: 500px; */
        text-align: left;
        width: 90%;
        margin: 0 auto;
    }
    
    .timeline-item {
        padding: 3em 2em 2em;
        position: relative;
        color: rgba(0, 0, 0, 0.7);
        border-left: 2px solid rgba(0, 0, 0, 0.3);
    }
    
    .timeline-item p {
        font-size: 1rem;
    }
    
    .timeline-item::before {
        content: attr(date-is);
        position: absolute;
        left: 2em;
        font-weight: bold;
        top: 1em;
        display: block;
        font-family: "Roboto", sans-serif;
        font-weight: 700;
        font-size: 0.785rem;
    }
    
    .timeline-item::after {
        width: 10px;
        height: 10px;
        display: block;
        top: 1em;
        position: absolute;
        left: -7px;
        border-radius: 10px;
        content: "";
        border: 2px solid rgba(0, 0, 0, 0.3);
        background: white;
    }
    
    .timeline-item:last-child {
        -o-border-image: linear-gradient( to bottom, rgba(0, 0, 0, 0.3) 60%, rgba(0, 0, 0, 0)) 1 100%;
        border-image: -webkit-gradient( linear, left top, left bottom, color-stop(60%, rgba(0, 0, 0, 0.3)), to(rgba(0, 0, 0, 0))) 1 100%;
        border-image: linear-gradient( to bottom, rgba(0, 0, 0, 0.3) 60%, rgba(0, 0, 0, 0)) 1 100%;
    }
</style>


<div class="ui container  animated fadeIn" style="margin-top:50px;">
    <h2 class="ui header">
        <i class="comment outline icon iconblue"></i>
        <div class="content">
            Discuss
            <div class="sub header" id="">Engage with our community on a topic</div>
        </div>
    </h2>
    <div class="ui divider"></div>

    <div class="ui segment">
        <a class="ui teal left ribbon label" id="discuss-nctid">NCTID</a> <span>Title</span>

        <p id="discuss-trial-heading" style="padding:0px 20px;margin:10px 0px;;">
        </p>
    </div>

    <div class="timeline-container" style="margin-top:-15px;">

        <div class="timeline-item" date-is='20-07-1990'>
            <!-- <h1>Hello, 'Im a single div responsive timeline without mediaQueries!</h1> -->
            <a class="avatar right floated">
                <img src="https://semantic-ui.com/images/avatar/small/joe.jpg">
            </a>
            <p>
                I'm speaking with myself, number one, because I have a very good brain and I've said a lot of things. I write the best placeholder text, and I'm the biggest developer on the web by far... While that's mock-ups and this is politics, are they really so
                different? I think the only card she has is the Lorem card.
            </p>
        </div>

        <div class="timeline-item" date-is='20-07-1990'>
            <!-- <h1>Oeehhh, that's awesome.. Me too!</h1> -->
            <p>
                I'm speaking with myself, number one, because I have a very good brain and I've said a lot of things. I write the best placeholder text, and I'm the biggest developer on the web by far... While that's mock-ups and this is politics, are they really so
                different? I think the only card she has is the Lorem card.
            </p>
        </div>

        <div class="timeline-item" date-is='20-07-1990'>
            <h1>I'm ::last-child so my border fades ^__^</h1>
            <p>
                I'm speaking with myself, number one, because I have a very good brain and I've said a lot of things. I write the best placeholder text, and I'm the biggest developer on the web by far... While that's mock-ups and this is politics, are they really so
                different? I think the only card she has is the Lorem card.
            </p>
        </div>

        <div class="timeline-item" date-is='any Text here'>
            <h1>I'm ::last-child so my border fades ^__^</h1>
            <p>
                I'm speaking with myself, number one, because I have a very good brain and I've said a lot of things. I write the best placeholder text, and I'm the biggest developer on the web by far... While that's mock-ups and this is politics, are they really so
                different? I think the only card she has is the Lorem card.
            </p>
        </div>

        <div class="timeline-item" date-is='20-07-1990'>
            <h1>I'm ::last-child so my border fades ^__^</h1>
            <p>
                I'm speaking with myself, number one, because I have a very good brain and I've said a lot of things. I write the best placeholder text, and I'm the biggest developer on the web by far... While that's mock-ups and this is politics, are they really so
                different? I think the only card she has is the Lorem card.
            </p>
        </div>

        <div class="timeline-item" date-is='20-07-1990'>
            <h1>I'm ::last-child so my border fades ^__^</h1>
            <p>
                I'm speaking with myself, number one, because I have a very good brain and I've said a lot of things. I write the best placeholder text, and I'm the biggest developer on the web by far... While that's mock-ups and this is politics, are they really so
                different? I think the only card she has is the Lorem card.
            </p>
        </div>

    </div>


    <!-- 
    <br>

    <div class="ui comments fluid" id="comments-stage">
    </div> -->
    <form class="ui reply form">
        <div class="field">
            <textarea id="comment-text"></textarea>
        </div>
        <div class="ui primary submit labeled icon button" id="button-add-comment">
            <i class="icon edit"></i> Add Comment
        </div>
    </form>

</div>

<template id="TEMPLATE_ONE_COMMENT">
	<div class="comment fluid left aligned">
		<a class="avatar">
			<img src="https://semantic-ui.com/images/avatar/small/joe.jpg">
		</a>
		<div class="content">
			<a class="author">
				<span class="ui header">{{user}}</span>
			</a>
			<div class="metadata">
				<div class="date">{{moments_ago}}</div>
			</div>
			<div class="text">
				<p>{{descrption}}</p>
			</div>
			<div class="actions">
				<button class="ui button warning right floated tiny reply-button">Reply</button>
				<br>
				<br>
			</div>
		</div>
	</div>
</template>



<script>
    function createComment(commentText) {
        //var shops = App.Products.getShops();

        var oneComment = {
            descrption: commentText,
            moments_ago: " sec ago",
            user: "James"
        };

        var template = $("#TEMPLATE_ONE_COMMENT").html();
        var html = Mustache.to_html(template, oneComment);
        $("#comments-stage").append(html);
    }

    (function() {

        $("#discuss-trial-heading").html(Trials.selectedTrialIdDetails.clinical_study.brief_title);
        $("#discuss-nctid").html(Trials.selectedTrialIdDetails.nctid);

        $("#button-add-comment").click(function(e) {
            e.preventDefault();
            createComment($("#comment-text").val());
            $("#comment-text").val("");
            $("#comment-text").val();
        });

        $(document.body).on("click", ".reply-button", function(e) {
            e.preventDefault();

            $('body').scrollTo('#comment-text');
            // $("body").animate({
            // 	scrollTop: $("#comment-text").offset().top
            // }, 2000);
        });

    })();
</script>